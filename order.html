<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
  <title>Galvanize Delivers</title>

  <!-- CSS  -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="css/site.css" type="text/css" rel="stylesheet" media="screen,projection"/>
</head>
<body>
  <nav>
    <div class="nav-wrapper blue darken-3" role = "navigation">
      <a href="index.html" id = "logo-container" class="brand-logo">Galvanize Delivers</a>
      <a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
      <ul id="nav-mobile" class="right hide-on-med-and-down">
        <li><a href="order.html" class ="right-aligned white-text active-link" >Order Delivery</a></li>
      </ul>
      <ul class="side-nav" id="mobile-demo">
        <li><a href="index.html">Home</a></li>
        <li><a href="order.html">Order Delivery</a></li>
      </ul>
    </div>
  </nav>
  <div class="container">
    <div class="section">
      <div class="row">
        <div class="col s12 m7">
          <header class = 'menu_header'>
            <h3>Menu</h3>
          </header>
          <div class="row">
            <div class="col s12 m6">
              <div class="card hoverable" id = '8.99'>
                <div class="card-image">
                  <img src="img/burger.jpg">
                </div>
                <div class="card-content">
                  <span class = "card-title">Royale with Cheese</span>
                  <p>$8.99</p>
                </div>
                <div class="card-action">
                  <a class = "pink-text" href = '#' id = 'Royale with Cheese'>Add to Order</a>
                </div>
              </div>
              <div class="card hoverable"  id = '7.99'>
                <div class="card-image">
                  <img src="img/ice_cream.jpg">
                </div>
                <div class="card-content">
                  <span class = "card-title">Ice Cream Biscuit</span>
                  <p>$7.99</p>
                </div>
                <div class="card-action">
                  <a class = "pink-text" href = "#" id = 'Ice Cream Biscuit'>Add to Order</a>
                </div>
              </div>
            </div>
            <div class="col s12 m6">
              <div class="card hoverable" id = '11.99'>
                <div class="card-image">
                  <img src="img/pizza.jpg">
                </div>
                <div class="card-content">
                  <span class = "card-title">Arugula Pie</span>
                  <p>$11.99</p>
                </div>
                <div class="card-action">
                  <a class = "pink-text" href = '#' id = 'Arugula Pie'>Add to Order</a>
                </div>
              </div>
              <div class="card hoverable" id = '14.99'>
                <div class="card-image">
                  <img src="img/ribs.jpg">
                </div>
                <div class="card-content">
                  <span class = "card-title">Smoked Swine</span>
                  <p>$14.99</p>
                </div>
                <div class="card-action">
                  <a class = "pink-text" href = '#' id = 'Smoked Swine'>Add to Order</a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col s12 m5">
          <header class = 'cart_header'>
            <h3>Order</h3>
          </header>
          <table class = 'striped'>
            <thead>
              <tr>
                <th>Item</th>
                <th class = 'align-text-right'>Price</th>
              </tr>
            </thead>

            <tbody id = 'cart'>
            </tbody>

            <tfoot>
              <tr>
                <td class = 'align-text-right'>Subtotal</td>
                <td class = 'align-text-right' id = 'subtotal'>$0.00</td>
              </tr>
              <tr>
                <td class = 'align-text-right'>Tax</td>
                <td class = 'align-text-right' id = 'tax'>$0.00</td>
              </tr>
              <tr>
                <td class = 'align-text-right'>Total</td>
                <td class = 'align-text-right' id = 'total'>$0.00</td>
              </tr>
            </tfoot>
          </table>
          <div class="row">
            <div class="row">
              <div class="input-field col s10 offset-s1">
                <i class="material-icons prefix pink-text">account_circle</i>
                <input id="icon_prefix" type="text" class="validate">
                <label for="icon_prefix">Name</label>
              </div>
              <div class="input-field col s10 offset-s1">
                <i class="material-icons prefix pink-text">phone</i>
                <input id="icon_telephone" type="tel" class="validate" default = "555-555-5555">
                <label for="icon_telephone">Phone</label>
              </div>
              <div class="input-field col s10 offset-s1">
                <i class="material-icons prefix pink-text">business</i>
                <textarea id="icon_address" class="materialize-textarea validate"></textarea>
                <label for="icon_address">Address</label>
              </div>
              <div class="row center">
                <a id="submit_order" class="btn-large waves-effect waves-light pink">PLACE ORDER</a>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<footer class="page-footer no-pad-bot blue darken-3">
  <div class="container">
    <div class="row">
      <div class="col l6 s12">
        <h5 class="white-text">Galvanize Delivers</h5>
        <p class="grey-text text-lighten-4">Fine dining, Delivered.</p>
      </div>
      <div class = 'col s3'>
        <a href="order.html" class = "right-aligned white-text footer_link">Order Delivery</a>
        <a href="index.html" class = "right-aligned white-text footer_link">Home</a>
      </div>
    </div>
  </div>
  <div class="footer-copyright darken-4">
    <div class="container">
      Â© 2017 Galvanize Delivers
    </div>
  </div>
</footer>


<!--  Scripts-->
<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="js/materialize.js"></script>
<script>
$('document').ready(function(){

  let subTotal = 0;
  let tax = 0;
  let total = 0;
  let orderIds = ['Royale with Cheese','Arugula Pie','Ice Cream Biscuit','Smoked Swine'];
  let name;
  let address;
  let phone;

  function addToCart (itemId) {
    let card = document.getElementById(itemId).parentNode.parentNode
    let newRow = document.createElement('tr');
    let name = document.createElement('td');
    let price = document.createElement('td');
    let cost =  card.id * 1;
    console.log(card);


    name.innerHTML = (itemId);
    price.innerHTML = "$" + cost;
    price.setAttribute('class','align-text-right');

    subTotal = +(subTotal+cost).toFixed(2);
    tax = +(subTotal * .07).toFixed(2);
    total = +(subTotal + tax).toFixed(2);

    document.getElementById('subtotal').innerHTML = '$' + subTotal;
    document.getElementById('tax').innerHTML = '$' + tax;
    document.getElementById('total').innerHTML = '$' + total;

    newRow.appendChild(name);
    newRow.appendChild(price);
    document.getElementById('cart').appendChild(newRow);

  }

  for (let i = 0; i<orderIds.length; i++) {
    document.getElementById(orderIds[i]).addEventListener('click',function(){
      addToCart(this.id);
    });
  }

  document.getElementById('submit_order').addEventListener('click', function() {
    name = document.getElementById('icon_prefix').value;
    phone = document.getElementById('icon_telephone').value;
    address = document.getElementById('icon_address').value;

    if(subTotal === 0) {
      return Materialize.toast('Ops! There are no items in your cart.', 3000, 'rounded');
    } else if(!name || !address || !phone){
      return Materialize.toast('Please ensure all fields are filled out.', 3000, 'rounded');
    }
    else {
      return Materialize.toast('Thank you! Your order is on it\'s way.', 3000, 'rounded');
    }
  })

  $(".button-collapse").sideNav();

});
</script>


</body>
</html>
